
## Покупка онлайн билетов на автобус в час пик.

### Предусловия:

Авторизация пользователя: Пользователь должен быть авторизован в системе, чтобы иметь возможность покупки билетов. Это может включать в себя вход с использованием имени пользователя и пароля или других методов аутентификации.

Выбор маршрута и времени: Пользователь должен иметь возможность выбрать конкретный маршрут и время отправления. Это означает, что система должна предоставить пользователю доступ к списку доступных маршрутов и расписанию.

Доступность билетов: Перед покупкой система должна проверить доступность билетов на выбранный маршрут и время. Если билеты распроданы, пользователю должно быть сообщено об этом.

Наличие средств: Пользователь должен иметь достаточное количество средств на своем счете или выбрать удобный метод оплаты.


### Постусловия:

Бронирование билета: После успешной операции покупки, система должна забронировать выбранный билет на маршрут и время для пользователя. Это гарантирует, что билет не будет доступен для других пользователей.

Списание средств: Если операция прошла успешно, система должна учесть средства пользователя и списать стоимость билета.

Подтверждение покупки: Пользователь должен получить подтверждение о покупке, которое может включать в себя электронный билет или уведомление о покупке.

Обновление доступности билетов: Система должна обновить доступность билетов для данного маршрута и времени, чтобы отразить бронирование.

Отмена бронирования (при необходимости): Если пользователь отменяет операцию покупки, система должна освободить забронированный билет и вернуть средства на счет пользователя.

### Инвариант
Инварианты (Invariants) - это условия, которые должны быть истинными на протяжении выполнения операции или в каком-то состоянии системы. В вашей диаграмме есть два инварианта:

User --[invariant]-> User : Funds >= busTicket.price - это инвариант для пользователя (User). Он гарантирует, что сумма средств на счете пользователя (Funds) не может быть меньше стоимости билета. Это важно, чтобы предотвратить отрицательный баланс на счете пользователя.

BusTicket --[invariant]-> BusTicket : Price > 0 - это инвариант для объекта BusTicket. Он гарантирует, что цена билета (Price) всегда больше нуля. Это важно, чтобы предотвратить создание билетов с неправильной ценой.


### Определить абстрактные и конкретные классы.
Создаём абстрактный класс Ticket, класс BusTicket, BusTicketProvider, User, ConsoleView, OnlineShop

### Определить интерфейсы.
Создаём интерфейсы UserActions, TicketActions, TicketProviderActions, OnlineShopActions, IView 

### Реализовать наследование.
Наследуем BusTicket от Ticket.
Наследуем OnlineShop от OnlineShopActions.
Наследуем BusTicketProvider от TicketProviderActions.
Наследуем ConsoleView от IView.
Наследуем OnlineShopActions от TicketProviderActions.

### Выявить компоненты.
Добавляем package user, ticket, ticketProvider, onlineShop, view. Группируем классы и интерфейсы в логические компоненты.

### Разработать Диаграмму компонент использую нотацию UML 2.0. Общая без деталей.
Диаграмма представлена в файле **saleOnlineTicket.puml**

### Определить алгоритм взаимодействия Группы 1 и Группы 2 – разработать контракт.
Контракты описаны в документации к методам и классам.

### Посчитать Метрики абстрактности компонент.

Система включает в себя следующие элементы:
OnlineShop (класс)
OnlineShopActions (интерфейс)
Ticket (абстрактный класс)
TicketActions (интерфейс)
BusTicket (класс)
TicketProviderActions (интерфейс)
BusTicketProvider (класс)
User (класс)
UserActions (интерфейс)
ConsoleView (класс)
IView (интерфейс)
Main (класс)

Всего 12 компонентов.

Из них абстрактные:
OnlineShopActions (интерфейс)
Ticket (абстрактный класс)
TicketActions (интерфейс)
TicketProviderActions (интерфейс)
UserActions (интерфейс)
IView (интерфейс)

Всего 6 абстрактных компонента.

Вычисление метрики:

Метрика абстрактности = (6 / 12) * 100% = 50%

Это означает, что 50% компонентов в вашей системе являются абстрактными.
